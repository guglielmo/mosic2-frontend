<h3 class="page-title">Registro -
    <span *ngIf="mode == 'create'" class="fw-semi-bold">Crea nuovo</span>
    <span *ngIf="mode == 'update'" class="fw-semi-bold">{{model.titolario}}.{{model.numero_fascicolo}}/{{model.id}}</span>
</h3>
<h5 class="page-title"><span *ngIf="mode == 'update'">{{model.oggetto}}</span></h5>

<form name="form" (ngSubmit)="f.form.valid && submit()" #f="ngForm" novalidate>
    <div class="row">
        <div class="col-lg-6">

            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Descrizione</span></h4>
                </header>
                <div class="widget-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="nome_documento"><strong>Nome documento</strong></label>
                                <input id="nome_documento" name="nome_documento"
                                       type="text" class="form-control"
                                       placeholder="Inserisci il nome del documento"
                                       [(ngModel)]="model.nome_documento" #nome_documento="ngModel">
                            </div>
                            <div class="form-group abc-checkbox abc-checkbox-primary">
                                <input id="proposta_cipe" type="checkbox" checked>
                                <label for="proposta_cipe">
                                    Proposta CIPE
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="oggetto"><strong>Oggetto</strong></label>
                                <textarea id="oggetto" name="oggetto"
                                          rows="4" class="autogrow form-control transition-height"
                                          autosize
                                          placeholder="Scrivi l'oggetto del registro..."
                                          [(ngModel)]="model.oggetto" #oggetto="ngModel" required></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
        <div class="col-lg-6">
            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Protocollo</span></h4>
                </header>
                <div class="widget-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label><strong>Arrivo</strong></label>
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="form-group">
                                        <label for="protocollo_arrivo">Numero</label>
                                        <input id="protocollo_arrivo" name="protocollo_arrivo"
                                               type="text" class="form-control"
                                               placeholder="numero del protocollo"
                                               [(ngModel)]="model.protocollo_arrivo" #protocollo_arrivo="ngModel">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <label for="data_arrivo">Data</label>
                                        <datetime id="data_arrivo" name="data_arrivo"
                                                  [datepicker]="{language: 'it', icon: 'fa fa-calendar', todayBtn: 'linked', todayHighlight: true }"
                                                  [timepicker]="false"
                                                  [(ngModel)]="model.data_arrivo" #data_arrivo="ngModel" required></datetime>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="mittente"><strong>Mittente</strong></label>
                                        <select2 id="mittente"
                                                 class="full-width-select"
                                                 [options]="select2Options"
                                                 cssImport="false"
                                                 (valueChanged)="select2Changed($event)"
                                                 [data]="apiService.mittenteSelect"></select2>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-7">
                                    <div class="form-group">
                                        <label for="Protocollo_Mittente">Numero</label>
                                        <input id="protocollo_mittente" name="protocollo_mittente"
                                               type="text" class="form-control"
                                               placeholder="numero del protocollo"
                                               [(ngModel)]="model.protocollo_mittente" #protocollo_mittente="ngModel">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <label for="Data_Mittente">Data</label>
                                        <datetime id="data_mittente" name="data_mittente"
                                                  [datepicker]="{language: 'it', icon: 'fa fa-calendar', todayBtn: 'linked', todayHighlight: true }"
                                                  [timepicker]="false"
                                                  [(ngModel)]="model.data_mittente" #data_mittente="ngModel" required></datetime>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">

                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Catalogazione</span></h4>
                </header>
                <div class="widget-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="amministrazione"><strong>Amministrazione</strong></label>
                                <select2 id="amministrazione"
                                         class="full-width-select"
                                         [options]="select2OptionsMulti"
                                         value="{{model.amministrazione}}"
                                         cssImport="false"
                                         (valueChanged)="select2Changed($event)"
                                         [data]="apiService.amministrazioneSelect"></select2>
                            </div>
                            <div class="form-group">
                                <label for="titolario"><strong>Titolario</strong></label>
                                <select2 id="titolario" name="titolario"
                                         class="full-width-select"
                                         [options]="select2Options"
                                         value="{{model.titolario}}"
                                         cssImport="false"
                                         (valueChanged)="select2Changed($event)"
                                         [data]="apiService.titolariSelect"></select2>
                            </div>
                            <div class="form-group">
                                <label for="numero_fascicolo"><strong>Fascicolo</strong></label>
                                <select2 id="numero_fascicolo"
                                         name="numero_fascicolo"
                                         class="full-width-select"
                                         [options]="select2Options"
                                         cssImport="false"
                                         (valueChanged)="select2Changed($event)"
                                         [data]="apiService.fascicoliSelect"></select2>
                            </div>
                        </div>
                    </div>
                </div>

            </section>

        </div>
        <div class="col-lg-6">
            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Annotazioni ad uso interno</span></h4>
                </header>
                <div class="widget-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="annotazioni" class="hidden"><strong>Note di servizio, appunti, ecc.</strong></label>
                                <textarea id="annotazioni" name="annotazioni"
                                          rows="6" class="autogrow form-control transition-height"
                                          autosize
                                          placeholder="Scrivi annotazioni ad uso interno..."
                                          [(ngModel)]="model.annotazioni" #annotazioni="ngModel"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">

            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Documenti allegati</span></h4>
                </header>
                <div class="widget-body no-padding">
                    <ul class="news-list stretchable">
                        <li>
                            <span class="icon">
                                <i class="filetypes filetypes-txt x2"></i>
                            </span>
                            <div class="news-item-info">
                                <h5 class="name no-margin mb-xs"><a href="#">First Human Colony on Mars</a></h5>
                                <p class="fs-mini">
                                    First 700 people will take part in building first human settlement outside of Earth.
                                    That's awesome, right?
                                </p>
                                <time class="help-block">Mar 20, 18:46</time>
                            </div>
                        </li>
                        <li>
                            <span class="icon">
                                <i class="filetypes filetypes-pdf x2"></i>
                            </span>
                            <div class="news-item-info">
                                <h5 class="name no-margin mb-xs"><a href="#">Light Blue reached $300</a></h5>
                                <p class="fs-mini">
                                    Light Blue Inc. shares just hit $300 price. "This was inevitable. It should
                                    have happen sooner or later" - says NYSE expert.
                                </p>
                                <time class="help-block">Sep 25, 11:59</time>
                            </div>
                        </li>
                        <li>
                            <span class="icon">
                                <i class="filetypes filetypes-doc x2"></i>
                            </span>
                            <div class="news-item-info">
                                <h5 class="name no-margin mb-xs"><a href="#">No more spying</a></h5>
                                <p class="fs-mini">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                    incididunt ut labore et dolore magna aliqua.
                                </p>
                                <time class="help-block">Mar 20, 18:46</time>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
        </div>

        <div class="col-lg-6">

            <section class="widget">
                <header>
                    <h4><span class="fw-semi-bold">Carica File</span></h4>
                </header>
                <div class="widget-body">
                    <dropzone [config]="config"
                              [message]="' Rilascia i file qui dentro per caricarli oppure fai click per selezionare i file '"
                              (error)="onUploadError($event)"
                              (success)="onUploadSuccess($event)">
                    </dropzone>
                </div>
            </section>
        </div>
    </div>
</form>

